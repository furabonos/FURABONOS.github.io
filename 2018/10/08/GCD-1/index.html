<!DOCTYPE html>
<html lang="kor">

<!-- Head tag -->
<head>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!--Description-->

    

    
        <meta name="description" content="furabono blog"/>
    

    <!--Author-->
    
        <meta name="author" content="FURABONO"/>
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="GCD (1)"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="furabono blog"/>
    

    <!--Open Graph Site Name-->
        <meta property="og:site_name" content="study blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article"/>
    

    <!--Page Cover-->
    
    
        <meta property="og:image" content="http://furabonos.github.iohttp://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg"/>
    

        <meta name="twitter:card" content="summary_large_image"/>

    

    
        <meta name="twitter:image" content="http://furabonos.github.iohttp://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg"/>
    

    <!-- Title -->
    
    <title>GCD (1) - study blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"/>

    <!-- Google Analytics -->
    


    <!-- favicon -->
    

</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Configurable Title</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/klugjo/hexo-theme-clean-blog">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('http://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>GCD (1)</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2018-10-08
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/swift/">#swift</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h3 id="Grand-Central-Dispatch"><a href="#Grand-Central-Dispatch" class="headerlink" title="Grand Central Dispatch"></a>Grand Central Dispatch</h3><p>swift 에서 Thread 관련 작업은 Grand Central Dispatch(GCD)를 통해 처리한다. 즉, 어느작업을 어느 Thread에서 처리할지, Multi-Thread로 할것인지, 코어를 여러개 사용할것인지 정하는것이 바로 GCD다. GCD는 Closure로 표현된 작업을 Queue에 올리고, 이 Queue를 Thread에 출격시켜 실행하는 작업을 수행한다. 쉽게 생각하면 swift에서 multi-threading 작업을 수행하는 API다. 주로 시간이 오래걸리는 작업을 수행하면서 사용자의 UI를 막지않고자 할때 사용한다. </p>
<h4 id="GCD-History"><a href="#GCD-History" class="headerlink" title="GCD History"></a>GCD History</h4><ul>
<li>초기엔 마이크로 프로세서의 clock 속도를 높이는 방식으로 연산속도를 높임</li>
<li>점점 증가하는 전력소비, 열로 인해 단일 프로세서의 clock 속도증가에 한계를 맞았으며, 이는 특히 모바일에서 영향을 크게 받음</li>
<li>따라서 CPU 벤더들은 단일 속도 증가보다 여러개의 CPU를 탑재하는 형태로 초점을 맞추게 됨</li>
<li>clock 속도가 빨라지면서 자연스럽게 소프트웨어도 빨라지던 과거와 달리 멀티 프로세서에선 어떻게 프로그램의 동작을 잘 배분하냐가 중요이슈가 됨</li>
<li>GCD 이전에는 멀티스레딩을 위해 Thread와 OperationQueue 등의 클래스를 사용했는데, 코드가 까다롭고 많이 필요하다.</li>
<li>GCD는 멀티 코어 프로세서 시스템에 대한 응용 프로그램 지원을 최적화하기 위해 Apple에서 개발한 기술로 Thread 관리와 실행에 대한 책임을 어플리케이션 레벨에서 운영체제 레벨로 넘김</li>
<li>작업의 단위는 block이라 불리며 DispatchQueue가 이 block들을 관리</li>
<li>GCD는 각 어플리케이션에서 생성된 DispatchQueue를 읽는 멀티코어 실행 엔진을 갖고있으며 이것이 Queue에 등록된 각 작업을 꺼내 Thread에 할당, 개발자는 내부 동작을 자세히 알 필요없이 Queue에 작업을 넘기기만 하면됨</li>
<li>Thread를 직접 생성하고 관리하는 것에 비해 관리용이성, 성능증가</li>
</ul>
<h4 id="sync-async"><a href="#sync-async" class="headerlink" title="sync, async"></a>sync, async</h4><ul>
<li>sync(동기)<ul>
<li>queue에 처리를 등록한 thread가 등록한 처리를 완료할때까지 대기</li>
</ul>
</li>
<li>async(비동기)<ul>
<li>queue에 처리를 등록한 thread가 등록한 처리를 완료할때까지 기다리지 않음. </li>
</ul>
</li>
<li>After<ul>
<li>queue에 등록한 thread에 시간차를 두어 실행할수있게 함.</li>
</ul>
</li>
</ul>
<h4 id="DispatchQueue-FIFO"><a href="#DispatchQueue-FIFO" class="headerlink" title="DispatchQueue(FIFO)"></a>DispatchQueue(FIFO)</h4><p>GCD는 Thread Safe한 DispatchQueue를 제공하여 Multi-threading 작업을 수행하도록 해준다. GCD가 제공하는 Queue는 세가지가 있다.</p>
<h5 id="1-main-serial"><a href="#1-main-serial" class="headerlink" title="1) main(serial)"></a>1) main(serial)</h5><p>Main Thread에서 처리되는 serial queue. 모든 UI작업은 Main Queue에서 수행해야 한다. 순차대로 FIFO</p>
<h5 id="2-global-concurrent"><a href="#2-global-concurrent" class="headerlink" title="2) global(concurrent)"></a>2) global(concurrent)</h5><p>전체 시스템에 공유되는 concurrent queue다. 작업의 우선순위를 사전에 정의한 4가지 QoS를 활용하게 된다. 동작이 동시적으로 GCD에서 컨트롤하여 FIFO.</p>
<h5 id="3-Custom"><a href="#3-Custom" class="headerlink" title="3) Custom"></a>3) Custom</h5><p>개발자가 임의로 정의하는 Queue다. serial, concurrent 모두 정의할수 있는데, 사실상 임의의 serial queue를 만들고 싶을때 사용한다. 같은 serial Queue인 Main Queue에서 처리하기엔 부적합한, 뒷단에서 serial로 돌아갈 필요가 없는 작업을 수행할때 만들어준다. 이 Custom Queue는 global queue에서 수행한다.</p>
<h4 id="DispatchGroup"><a href="#DispatchGroup" class="headerlink" title="DispatchGroup"></a>DispatchGroup</h4><p>여러가지 작업을 동시에 실행할때 Group을 concurrent queue로 작업하여 결과물을 빠르게 얻는다. Group queue는 실행되는 작업이 다 완료 되었을때 notify를 호출하여 끝났다는 신호를 준다.</p>
<h4 id="Quality-of-Service-QoS"><a href="#Quality-of-Service-QoS" class="headerlink" title="Quality of Service (QoS)"></a>Quality of Service (QoS)</h4><p>어떤 작업을 Multi-Threading으로 concurrent하게 처리하고자 할때 global Queue를 쓰게된다. 이때 해당 작업의 우선순위를 지정할때 미리 중요도가 정의된 QoS를 사용한다. QoS는 중요도와 우선순위에 따라 User-Interactive, User-Initiated, Utility, Background로 구분된다.</p>
<h5 id="1-UserInteractive"><a href="#1-UserInteractive" class="headerlink" title="1) UserInteractive"></a>1) UserInteractive</h5><p>중요도가 높고 즉각적인 반응이 요구되는 작업을 위해 가장 자원을 많이 쓰도록 하는 QoS다. 유저가 누르면 즉각적으로 반응하는 작업이 들어간다. UI업데이트, 이벤트 핸들링등 가볍고 신속히 처리가 필요한 작업수행용이다. global queue 항목임에도 main thread에서 실행되는 QoS다. </p>
<h5 id="2-UserInitiated"><a href="#2-UserInitiated" class="headerlink" title="2) UserInitiated"></a>2) UserInitiated</h5><p>UserInteractive 정도는 아니더라도 유저가 빠른 결과를 기대할때 사용하는 QoS다. 유저가 실행되는 작업으로 Async하게 처리해야할 일들을 처리한다. 유저가 UI상으로 블록을 당하지 않게 하면서도 빠른 결과를 기대할때 사용한다.</p>
<h5 id="3-Utility"><a href="#3-Utility" class="headerlink" title="3) Utility"></a>3) Utility</h5><p>시간이 다소 걸리는 작업을 처리한다. 유저에게 처리가 진행되는 모습도 보인다. 계산, I/O, 네트워킹, 데이터 피드 등의 작업에 주로 사용한다.</p>
<h5 id="4-Background"><a href="#4-Background" class="headerlink" title="4) Background"></a>4) Background</h5><p>유저가 인식하지 못하는 뒷단에서 실행되는 작업이다. UserInteractive가 필요하지 않고 급히 필요하지 않은 작업들에 사용한다. </p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/klugjo/hexo-theme-clean-blog" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2018 FURABONO<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>