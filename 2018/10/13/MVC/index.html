<!DOCTYPE html>
<html lang="kor">

<!-- Head tag -->
<head>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!--Description-->

    

    
        <meta name="description" content="furabono blog"/>
    

    <!--Author-->
    
        <meta name="author" content="FURABONO"/>
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="MVC"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="furabono blog"/>
    

    <!--Open Graph Site Name-->
        <meta property="og:site_name" content="study blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article"/>
    

    <!--Page Cover-->
    
    
        <meta property="og:image" content="http://furabonos.github.iohttp://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg"/>
    

        <meta name="twitter:card" content="summary_large_image"/>

    

    
        <meta name="twitter:image" content="http://furabonos.github.iohttp://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg"/>
    

    <!-- Title -->
    
    <title>MVC - study blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"/>

    <!-- Google Analytics -->
    


    <!-- favicon -->
    

</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Configurable Title</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/klugjo/hexo-theme-clean-blog">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('http://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>MVC</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2018-10-13
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/swift/">#swift</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h3 id="MVC"><a href="#MVC" class="headerlink" title="MVC?"></a>MVC?</h3><p>MVC(Model-View-Controller) 패턴은 프로그램을 짜는 가장 대표적인 디자인패턴이다. 앱의 데이터나 비즈니스 로직을 담당하는 부분은 Model, 사용자에게 보여지는 부분을 다루는 객체는 View, 그리고 Model과 View사이 중간자 역할을 하는 코드들은 Controller에 저장한다.</p>
<p><img src="https://i.imgur.com/9Mlpng1.png" alt="Imgur"></p>
<p>이렇게 코드를 MVC패턴으로 짜는 이유는 코드들을 분리함으로써 범용성과 재사용성을 높이고 개발과 유지보수를 좀더 쉽게 하기 위해 즉, 생산성이 좋기 때문에 사용한다. 그러나 ios의 MVC는 Model-View-Controller간의 분리가 완벽하지 않아서 실제로는 View의 생명주기에 관한 코드가 Controller에 위치하고 통신또한 Controller에 위치하기 때문에 Controller가 거대해지는 경향이 있다. 이러한 문제점을 극복하기 위해 MVC-N, MVP, MVVM등의 패턴을 사용하기도 한다. 이번 포스팅에서는 MVC에 대해 먼저 알아본다.</p>
<h4 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h4><p>Model은 앱의 비즈니스 로직과 데이터를 관리하는 영역이다. 앱의 두뇌역할을 한다고 생각하면 편하다. 계산기앱을 예로들면 계산하는 로직과 관련 데이터가 Model영역에 해당한다. 서버로부터 데이터를 불러오거나 관리하는것도 Model의 역할이다. 보통 struct나 간단한 클래스로 구성된다.</p>
<h4 id="View"><a href="#View" class="headerlink" title="View"></a>View</h4><p>View는 유저에게 데이터를 보여주거나 UI를 담당하는 영역이다. View는 어떻게 보여질지만 상관이 있고 어떤것을 보여줄지는 상관하지 않는다. 즉, 자신의 Controller가 누군지 관심이 없다.</p>
<h4 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h4><p>Controller는 View와 Model을 이어주는 역할을 한다. View,Model은 서로 독립적이어야 하므로 중간에서 Controller가 척추, 근육 역할을 한다. ios에서 Controller는 주로 UIVIewController의 서브클래스로 생성된다. 밑의 파트에선 Controller가 View, Model과 어떻게 소통하는지에 대해 기술한다.</p>
<h4 id="Controller-To-View-Outlet"><a href="#Controller-To-View-Outlet" class="headerlink" title="Controller To View: Outlet"></a>Controller To View: Outlet</h4><p>먼저 Controllel는 위 그림에서 초록색 선으로 표시된것 처럼 Outlet을 통해 View에게 말을 걸수 있다. 아래 코드처럼 스토리보드에서 코드로 레이블이나 테이블뷰등의 인스턴스를 만드는것이다. 이 과정은 보통 스토리보드에서 코드영역으로 드래그해서 가져오기때문에 View To Controller로 보일수 있지만 반대이다. 선언한 Outlet을 통해 Controller는 View에게 어떤이미지를 보여줄지, 어떤 텍스트를 보여줄지 지시한다.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> nameLabel: <span class="type">UILabel</span>!</span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> tableView: <span class="type">UITableView</span>!</span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView</span>!</span><br></pre></td></tr></table></figure></p>
<h4 id="View-To-Controller-1"><a href="#View-To-Controller-1" class="headerlink" title="View To Controller (1)"></a>View To Controller (1)</h4><p>위와 반대로 View To Controller도 가능하다. 원래는 불가능 하지만 슈퍼갑인 유저가 View를 통해 메세지를 던질수있기 때문이다. 이러한 특수상황에서 View To Controller는 두가지 방법이 있다. 첫째로 Controller가 자신에게 타겟을 설정하고 View에게 액션을 건네주는 방법이다. 이를 Target-Action이라 하며 가장 대중화된 예가 바로 버튼이다. 밑의 예시는 버튼과 연결된 IBAction으로 버튼을 클릭하여 액션이 발생하면, 메서드가 타겟으로써 대응한다.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">btnClick</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="View-To-Controller-2"><a href="#View-To-Controller-2" class="headerlink" title="View To Controller (2)"></a>View To Controller (2)</h4><p>View To Controller의 두번째 방법은 Delegation다. Controller 클래스 안에 View 클래스의 인스턴스를 만드는 IBOutlet처럼 View 클래스 안에 Controller 클래스를 만드는것과 유사하다. Delegation은 View가 자신에 대한 제어권을 Controller에게 위임하는 프로토콜로써 앱 사용 유저가 5가지 행동을 할 경우에 권한이 위임된다.</p>
<ol>
<li>will: 스크롤, 셀선택등을 하려는 순간</li>
<li>did: 스크롤, 셀선택등을 막 한 이후</li>
<li>should: 스크롤, 셀선택등을 하도록 할 것인지</li>
<li>data at: 해당 View가 표시해야할 데이터가 무엇인지</li>
<li>count: 해당 View에 총 몇개의 데이터가 존재하는지</li>
</ol>
<p>보통 1-3의 경우 delegate라고 부르며 4-5는 datasource delegation이라 한다.</p>
<h4 id="Controller-To-Model"><a href="#Controller-To-Model" class="headerlink" title="Controller To Model"></a>Controller To Model</h4><p>Controller가 View에게 말을 걸때 Outlet 인스턴스를 만들듯이 Model에게 말을 걸기 위해선 Model 클래스의 인스턴스를 만들면 된다.</p>
<h4 id="Model-To-Controller"><a href="#Model-To-Controller" class="headerlink" title="Model To Controller"></a>Model To Controller</h4><p>View도 실질적으론 Controller에게 다이렉트로 말을 거는 방법이 없듯이 Model도 실질적으로 방법이 없다. Model은 자신의 데이터가 변할때와 같이 무엇인가 알려줄 필요가 있을때 자신과 관련있는 Controller 및 Model에게 안내를 하는 방식으로 통신한다. 이러한 과정은 Dictionary처럼 Key, Value를 관찰하는 KVO(Key Value Observer)를 통해 수행되며 변경사항이 있을 경우 통지(Notification)하게 된다.</p>
<h3 id="장단점"><a href="#장단점" class="headerlink" title="장단점"></a>장단점</h3>

                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/klugjo/hexo-theme-clean-blog" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2018 FURABONO<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>